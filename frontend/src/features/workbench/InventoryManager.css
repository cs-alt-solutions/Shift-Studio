/* --- LAYOUTS --- */
.inventory-layout {
  display: grid;
  grid-template-columns: 1fr 340px;
  height: 100%;
  overflow: hidden;
  gap: 24px;
  padding: 30px 40px;
}

.inventory-scroll-area {
  overflow-y: auto;
  padding-right: 10px;
  height: 100%;
}

/* --- METRICS GRID --- */
.inventory-metrics {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
  margin-bottom: 30px;
}

.metric-card {
  background: var(--bg-panel);
  border: 1px solid var(--border-subtle);
  padding: 20px;
  border-radius: 2px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
  overflow: hidden;
}
.metric-card.alert { border-color: var(--neon-red); background: rgba(239, 68, 68, 0.05); cursor: pointer; }
.metric-value { font-size: 2rem; font-weight: 800; color: #fff; margin-top: 5px; }

/* --- SECTIONS --- */
.blueprint-section {
  position: relative;
  margin-top: 40px; 
  padding-bottom: 10px;
}

/* --- ACCORDION HISTORY ROW (NEW) --- */
.history-expansion {
  background: #000; /* Darker than the panel */
  box-shadow: inset 0 6px 12px -4px rgba(0,0,0,0.4);
}
.history-inner {
  padding: 20px 40px;
  border-left: 3px solid var(--border-subtle); /* Visual anchor */
}
.mini-history-table {
  width: 100%;
  font-size: 0.75rem;
  border-collapse: collapse;
}
.mini-history-table th {
  text-align: left;
  color: var(--text-muted);
  font-weight: 700;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--border-subtle);
}
.mini-history-table td {
  padding: 8px 0;
  color: var(--text-muted);
  border-bottom: 1px solid rgba(255,255,255,0.03);
}

/* --- SIDEBAR WIDGETS --- */
.keyword-sidebar {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}
.keyword-header { padding: 15px; border-bottom: 1px solid var(--border-subtle); background: var(--bg-panel-header); }
.keyword-list { padding: 15px; overflow-y: auto; flex: 1; }

.sidebar-panel {
  background: rgba(255,255,255,0.02);
  border: 1px solid var(--border-subtle);
  border-left-width: 3px;
  margin-bottom: 20px;
}
.sidebar-inner { padding: 15px; }

/* Detail View */
.detail-header { margin-bottom: 20px; text-align: center; }
.detail-title { font-size: 1.2rem; margin: 0; color: #fff; }
.detail-brand { font-size: 0.8rem; color: var(--neon-cyan); font-family: monospace; margin-top: 4px; }
.stock-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
.stock-box { background: var(--bg-app); padding: 10px; text-align: center; border: 1px solid var(--border-subtle); }
.stock-value { font-size: 1.2rem; font-weight: 800; color: #fff; }
.stock-label { font-size: 0.6rem; color: var(--text-muted); letter-spacing: 1px; }

/* History List (Sidebar version) */
.history-section { margin-top: 20px; border-top: 1px dashed var(--border-subtle); padding-top: 15px; }
.history-title { font-size: 0.7rem; font-weight: 700; color: var(--text-muted); margin-bottom: 10px; display: flex; align-items: center; gap: 6px; }
.history-item { display: flex; justify-content: space-between; font-size: 0.75rem; padding: 6px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }

/* Readiness Cards */
.readiness-card {
  border: 1px solid var(--border-subtle);
  background: var(--bg-panel);
  border-radius: 2px;
  overflow: hidden;
  transition: all 0.2s;
  margin-bottom: 10px;
}
.readiness-card:hover { border-color: #52525b; }

.readiness-header {
  padding: 15px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(255,255,255,0.02);
}
.readiness-title { font-weight: 700; font-size: 0.85rem; color: #fff; }

.readiness-grid { background: var(--bg-app); border-top: 1px solid var(--border-subtle); padding: 5px 0; }
.readiness-item { display: flex; justify-content: space-between; padding: 10px 15px; border-bottom: 1px dashed var(--border-subtle); font-size: 0.75rem; }

/* Stepper */
.stepper-container { display: flex; align-items: center; background: var(--bg-app); border: 1px solid var(--border-subtle); border-radius: 2px; padding: 2px; height: 40px; }
.btn-stepper { width: 30px; height: 100%; border: none; background: transparent; color: var(--text-muted); cursor: pointer; font-weight: 800; }
.btn-stepper:hover { color: #fff; background: rgba(255,255,255,0.1); }
.input-stepper { width: 50px; height: 100%; border: none; background: transparent; color: #fff; text-align: center; font-weight: 700; outline: none; }